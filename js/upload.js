var submitbtn=document.getElementById("submit_btn"),progress_value=document.getElementById("progress-bar"),semester=document.getElementById("semester").value,year=document.getElementById("year").value,document_type=document.getElementById("document_type").value,course_code=document.getElementById("course_code").value,firebaseConfig={apiKey:"AIzaSyDzcaQsMg9-3vSzg8ekuOxdMg9OuG_oEzo",authDomain:"ssn-project-b13d6.firebaseapp.com",projectId:"ssn-project-b13d6",storageBucket:"ssn-project-b13d6.appspot.com",messagingSenderId:"743494701844",appId:"1:743494701844:web:359881ba2bbb5279efa801"};firebase.initializeApp(firebaseConfig),submitbtn.addEventListener("click",function(){var t=document.querySelector("#file_input"),a=document.getElementById("file_name").value;if(""!==a){const s=firebase.storage().ref("university/makerere/cedat/school of engineering/mechanical engineering/"+year+"/"+semester+"/"+course_code+"/"+document_type+"/"+t.files[0].name);var e=s.put(t.files[0]);e.on("state_changed",e=>{var t=e.bytesTransferred/e.totalBytes*100;switch(progress_value.style.width=t.toString()+"%",progress_value.innerHTML=Math.round(t).toString()+"%",e.state){case firebase.storage.TaskState.PAUSED:alert("Upload is paused");break;case firebase.storage.TaskState.RUNNING:alert("Upload is running")}},e=>{alert("error occurred during upload")},()=>{e.snapshot.ref.getDownloadURL().then(e=>{console.log("File available at",e);e=firebase.database().ref("university/makerere/cedat/school of engineering/mechanical engineering/"+year+"/"+semester+"/"+course_code+"/"+document_type+"/"+a).set({name:t.files[0].name,download_link:e});e.catch(e=>{alert(e.message())}),e.then(e=>{alert("Successfully Uploaded to the dataBase "),progress_value.style.width="0%",progress_value.innerHTML=""})})})}else alert("please fill in the name of the of the file without punctuation marks and keep it short and simple ")});
